// Add missing translations from hardcoded bundle to Directus
const DIRECTUS_URL = 'http://localhost:8055';
const ADMIN_EMAIL = 'admin@asturiasxr.com';
const ADMIN_PASSWORD = '6xkMbCgPA636ZNCc';

// All hardcoded translations extracted from src/i18n/index.ts
const allTranslations = {
  es: {
    "common.loading": "Cargando...",
    "common.error": "Error",
    "common.close": "Cerrar",
    "common.back": "Volver",
    "common.next": "Siguiente",
    "common.restart": "Reiniciar",
    "common.share": "Compartir",
    "common.download": "Descargar",
    "common.search": "Buscar",
    "common.filter": "Filtrar",
    "common.all": "Todos",
    "common.results": "resultados",
    "common.viewDetails": "Ver detalles",
    "common.viewList": "Ver lista",
    "common.viewMap": "Ver mapa",
    "nav.home": "Inicio",
    "nav.tours360": "Tours 360¬∞",
    "nav.routes": "Rutas Inmersivas",
    "nav.map": "Mapa",
    "nav.vrExperiences": "Experiencias VR",
    "nav.arExperiences": "Experiencias AR",
    "nav.help": "Ayuda",
    "header.asturiasInmersivo": "Asturias Inmersivo",
    "header.skipToContent": "Saltar al contenido principal",
    "onboarding.discoverFrom": "Descubriendo desde casa",
    "onboarding.discoverFromDesc": "Explora Asturias virtualmente",
    "onboarding.alreadyHere": "Ya estoy en Asturias",
    "onboarding.alreadyHereDesc": "Contenido seg√∫n tu ubicaci√≥n",
    "onboarding.selectMode": "¬øC√≥mo quieres explorar?",
    "onboarding.selectExperience": "Elige tu experiencia",
    "onboarding.tours360": "Tours Virtuales 360¬∞",
    "onboarding.tours360Desc": "11 museos y equipamientos",
    "onboarding.immersiveRoutes": "Rutas Inmersivas",
    "onboarding.immersiveRoutesDesc": "29 rutas AR/360¬∞",
    "routes.title": "Rutas Inmersivas",
    "routes.search": "Buscar rutas...",
    "routes.fitBounds": "Ajustar vista",
    "routes.enterRoute": "Entrar en la ruta",
    "routes.exitRoute": "Salir de la ruta",
    "routes.duration": "Duraci√≥n",
    "routes.difficulty": "Dificultad",
    "routes.points": "puntos",
    "routes.distance": "Distancia",
    "routes.circular": "Ruta circular",
    "routes.linear": "Ruta lineal",
    "routes.tour360Available": "Tour 360¬∞ disponible",
    "routes.noPoints": "Los puntos de esta ruta est√°n en desarrollo",
    "routes.progress": "Progreso",
    "routes.exploring": "Explorando",
    "routes.howToGet": "C√≥mo llegar",
    "difficulty.easy": "F√°cil",
    "difficulty.medium": "Media",
    "difficulty.hard": "Dif√≠cil",
    "poi.arExperience": "Experiencia de Realidad Aumentada",
    "poi.launchAR": "Abrir experiencia AR",
    "poi.scanQR": "Escanea con tu m√≥vil",
    "poi.scanQRDesc": "Apunta la c√°mara de tu m√≥vil al c√≥digo QR para abrir la experiencia de Realidad Aumentada",
    "poi.arInstructions": "Instrucciones AR",
    "poi.location": "Ubicaci√≥n",
    "poi.open360": "Abrir tour 360¬∞",
    "poi.playVideo": "Reproducir v√≠deo",
    "poi.downloadPDF": "Descargar PDF",
    "poi.listenAudio": "Escuchar audiogu√≠a",
    "poi.tryARDesktop": "Probar en este dispositivo",
    "poi.arRecommendation": "Recomendado: usa tu m√≥vil para la mejor experiencia AR",
    "poi.gallery": "Galer√≠a de im√°genes",
    "poi.practicalInfo": "Informaci√≥n pr√°ctica",
    "poi.schedule": "Horarios",
    "poi.prices": "Precios",
    "poi.contact": "Contacto",
    "poi.contentAvailable": "Contenido disponible",
    "tours360.title": "Tours Virtuales 360¬∞",
    "tours360.subtitle": "Explora Asturias desde cualquier lugar",
    "tours360.startTour": "Iniciar Tour",
    "tours360.scenes": "escenas",
    "tours360.allCategories": "Todas las categor√≠as",
    "vr.title": "Experiencias VR",
    "vr.subtitle": "Sum√©rgete en Asturias con realidad virtual",
    "vr.downloadAPK": "Descargar APK",
    "vr.duration": "Duraci√≥n estimada",
    "vr.difficulty": "Dificultad",
    "vr.instructions": "Instrucciones de uso",
    "vr.requirements": "Requisitos",
    "vr.compatible": "Compatible con",
    "map.yourLocation": "Tu ubicaci√≥n",
    "map.locationActive": "Ubicaci√≥n activa",
    "map.enableLocation": "Activar ubicaci√≥n",
    "map.clusterPoints": "puntos de inter√©s",
    "navigation.getDirections": "C√≥mo llegar",
    "navigation.walking": "A pie",
    "navigation.driving": "En coche",
    "navigation.chooseMode": "Elige c√≥mo llegar",
    "navigation.fromYourLocation": "Desde tu ubicaci√≥n",
    "navigation.nearestPoint": "Punto m√°s cercano",
    "navigation.startHere": "Empezar aqu√≠",
    "navigation.nearYou": "Cerca de ti",
    "navigation.withinRadius": "en un radio de",
    "navigation.noLocation": "Activa tu ubicaci√≥n para ver qu√© tienes cerca",
    "navigation.nothingNearby": "No hay puntos cercanos en un radio de 50km",
    "navigation.calculatingRoute": "Calculando ruta...",
    "navigation.error": "Error",
    "navigation.retry": "Reintentar",
    "navigation.arrived": "¬°Has llegado!",
    "navigation.arrivedDesc": "Has llegado a tu destino",
    "navigation.recalculate": "Recalcular",
    "navigation.remaining": "restante",
    "navigation.stepOf": "Paso",
    "navigation.of": "de",
    "navigation.allSteps": "Todas las indicaciones",
    "navigation.stopNavigation": "Detener navegaci√≥n",
    "navigation.selectMode": "Selecciona modo de transporte",
    "navigation.start": "Iniciar",
    "navigation.offlineMode": "Modo sin conexi√≥n",
    "navigation.progress": "Progreso",
    "navigation.inApp": "Navegar en app",
    "navigation.externalMaps": "Abrir en Maps",
    "navigation.stepByStep": "Paso a paso con mapa en tiempo real",
    "navigation.cachedRoutes": "rutas guardadas disponibles",
    "network.offline": "Sin conexi√≥n a Internet",
    "network.offlineDescription": "Algunas funciones pueden no estar disponibles",
    "network.offlineWithCache": "Modo sin conexi√≥n - Datos disponibles",
    "network.backOnline": "¬°Conexi√≥n restaurada!",
    "network.slowConnection": "Conexi√≥n lenta detectada",
    "network.slowConnectionDescription": "El contenido puede tardar m√°s en cargar",
    "share.title": "Compartir",
    "share.copyLink": "Copiar enlace",
    "share.linkCopied": "Enlace copiado",
    "share.whatsapp": "Compartir en WhatsApp",
    "share.facebook": "Compartir en Facebook",
    "share.twitter": "Compartir en Twitter",
    "share.email": "Enviar por email",
    "settings.language": "Idioma",
    "settings.theme": "Tema",
    "settings.lightTheme": "Claro",
    "settings.darkTheme": "Oscuro",
    "settings.systemTheme": "Sistema",
    "footer.privacy": "Pol√≠tica de privacidad",
    "footer.cookies": "Pol√≠tica de cookies",
    "footer.accessibility": "Declaraci√≥n de accesibilidad",
    "footer.contact": "Contacto",
    "footer.legal": "Aviso legal",
    "footer.fundedBy": "Financiado por la Uni√≥n Europea ‚Äì NextGenerationEU",
    "footer.copyright": "¬© 2026 Principado de Asturias. Todos los derechos reservados.",
    "footer.developedBy": "Desarrollado por",
    "footer.arExperiences": "Experiencias AR",
    "cookies.consentTitle": "Utilizamos cookies",
    "cookies.consentDescription": "Usamos cookies para mejorar tu experiencia de navegaci√≥n, mostrar contenido personalizado y analizar nuestro tr√°fico.",
    "cookies.learnMore": "M√°s informaci√≥n",
    "cookies.acceptAll": "Aceptar todas",
    "cookies.rejectAll": "Rechazar",
    "cookies.customize": "Personalizar",
    "cookies.savePreferences": "Guardar preferencias",
    "cookies.necessary": "Cookies necesarias",
    "cookies.necessaryDesc": "Esenciales para el funcionamiento del sitio web.",
    "cookies.analytics": "Cookies anal√≠ticas",
    "cookies.analyticsDesc": "Nos ayudan a entender c√≥mo usas el sitio.",
    "cookies.marketing": "Cookies de marketing",
    "cookies.marketingDesc": "Utilizadas para mostrarte anuncios relevantes.",
    "cookies.required": "Obligatorio",
    "error.generic": "Ha ocurrido un error",
    "error.notFound": "P√°gina no encontrada",
    "error.goHome": "Volver al inicio",
    "error.tryAgain": "Intentar de nuevo"
  },
  en: {
    "common.loading": "Loading...",
    "common.error": "Error",
    "common.close": "Close",
    "common.back": "Back",
    "common.next": "Next",
    "common.restart": "Restart",
    "common.share": "Share",
    "common.download": "Download",
    "common.search": "Search",
    "common.filter": "Filter",
    "common.all": "All",
    "common.results": "results",
    "common.viewDetails": "View details",
    "common.viewList": "View list",
    "common.viewMap": "View map",
    "nav.home": "Home",
    "nav.tours360": "360¬∞ Tours",
    "nav.routes": "Immersive Routes",
    "nav.map": "Map",
    "nav.vrExperiences": "VR Experiences",
    "nav.arExperiences": "AR Experiences",
    "nav.help": "Help",
    "header.asturiasInmersivo": "Asturias Immersive",
    "header.skipToContent": "Skip to main content",
    "onboarding.discoverFrom": "Discovering from home",
    "onboarding.discoverFromDesc": "Explore Asturias virtually",
    "onboarding.alreadyHere": "I'm already in Asturias",
    "onboarding.alreadyHereDesc": "Location-based content",
    "onboarding.selectMode": "How do you want to explore?",
    "onboarding.selectExperience": "Choose your experience",
    "onboarding.tours360": "360¬∞ Virtual Tours",
    "onboarding.tours360Desc": "11 museums and venues",
    "onboarding.immersiveRoutes": "Immersive Routes",
    "onboarding.immersiveRoutesDesc": "29 AR/360¬∞ routes",
    "routes.title": "Immersive Routes",
    "routes.search": "Search routes...",
    "routes.fitBounds": "Fit view",
    "routes.enterRoute": "Enter route",
    "routes.exitRoute": "Exit route",
    "routes.duration": "Duration",
    "routes.difficulty": "Difficulty",
    "routes.points": "points",
    "routes.distance": "Distance",
    "routes.circular": "Circular route",
    "routes.linear": "Linear route",
    "routes.tour360Available": "360¬∞ tour available",
    "routes.noPoints": "Points for this route are in development",
    "routes.progress": "Progress",
    "routes.exploring": "Exploring",
    "routes.howToGet": "How to get there",
    "difficulty.easy": "Easy",
    "difficulty.medium": "Medium",
    "difficulty.hard": "Hard",
    "poi.arExperience": "Augmented Reality Experience",
    "poi.launchAR": "Launch AR experience",
    "poi.scanQR": "Scan with your phone",
    "poi.scanQRDesc": "Point your phone camera at the QR code to open the Augmented Reality experience",
    "poi.arInstructions": "AR Instructions",
    "poi.location": "Location",
    "poi.open360": "Open 360¬∞ tour",
    "poi.playVideo": "Play video",
    "poi.downloadPDF": "Download PDF",
    "poi.listenAudio": "Listen to audioguide",
    "poi.tryARDesktop": "Try on this device",
    "poi.arRecommendation": "Recommended: use your phone for the best AR experience",
    "poi.gallery": "Image gallery",
    "poi.practicalInfo": "Practical information",
    "poi.schedule": "Schedule",
    "poi.prices": "Prices",
    "poi.contact": "Contact",
    "poi.contentAvailable": "Available content",
    "tours360.title": "360¬∞ Virtual Tours",
    "tours360.subtitle": "Explore Asturias from anywhere",
    "tours360.startTour": "Start Tour",
    "tours360.scenes": "scenes",
    "tours360.allCategories": "All categories",
    "vr.title": "VR Experiences",
    "vr.subtitle": "Immerse yourself in Asturias with virtual reality",
    "vr.downloadAPK": "Download APK",
    "vr.duration": "Estimated duration",
    "vr.difficulty": "Difficulty",
    "vr.instructions": "Usage instructions",
    "vr.requirements": "Requirements",
    "vr.compatible": "Compatible with",
    "map.yourLocation": "Your location",
    "map.locationActive": "Location active",
    "map.enableLocation": "Enable location",
    "map.clusterPoints": "points of interest",
    "navigation.getDirections": "Get directions",
    "navigation.walking": "Walking",
    "navigation.driving": "Driving",
    "navigation.chooseMode": "Choose how to get there",
    "navigation.fromYourLocation": "From your location",
    "navigation.nearestPoint": "Nearest point",
    "navigation.startHere": "Start here",
    "navigation.nearYou": "Near you",
    "navigation.withinRadius": "within",
    "navigation.noLocation": "Enable location to see what's nearby",
    "navigation.nothingNearby": "No points within 50km radius",
    "navigation.calculatingRoute": "Calculating route...",
    "navigation.error": "Error",
    "navigation.retry": "Retry",
    "navigation.arrived": "You arrived!",
    "navigation.arrivedDesc": "You have arrived at your destination",
    "navigation.recalculate": "Recalculate",
    "navigation.remaining": "remaining",
    "navigation.stepOf": "Step",
    "navigation.of": "of",
    "navigation.allSteps": "All directions",
    "navigation.stopNavigation": "Stop navigation",
    "navigation.selectMode": "Select transport mode",
    "navigation.start": "Start",
    "navigation.offlineMode": "Offline mode",
    "navigation.progress": "Progress",
    "navigation.inApp": "Navigate in app",
    "navigation.externalMaps": "Open in Maps",
    "navigation.stepByStep": "Step-by-step with real-time map",
    "navigation.cachedRoutes": "saved routes available",
    "network.offline": "No internet connection",
    "network.offlineDescription": "Some features may not be available",
    "network.offlineWithCache": "Offline mode - Data available",
    "network.backOnline": "Connection restored!",
    "network.slowConnection": "Slow connection detected",
    "network.slowConnectionDescription": "Content may take longer to load",
    "share.title": "Share",
    "share.copyLink": "Copy link",
    "share.linkCopied": "Link copied",
    "share.whatsapp": "Share on WhatsApp",
    "share.facebook": "Share on Facebook",
    "share.twitter": "Share on Twitter",
    "share.email": "Send by email",
    "settings.language": "Language",
    "settings.theme": "Theme",
    "settings.lightTheme": "Light",
    "settings.darkTheme": "Dark",
    "settings.systemTheme": "System",
    "footer.privacy": "Privacy Policy",
    "footer.cookies": "Cookie Policy",
    "footer.accessibility": "Accessibility Statement",
    "footer.contact": "Contact",
    "footer.legal": "Legal Notice",
    "footer.fundedBy": "Funded by the European Union ‚Äì NextGenerationEU",
    "footer.copyright": "¬© 2024 Principality of Asturias. All rights reserved.",
    "footer.developedBy": "Developed by",
    "footer.arExperiences": "AR Experiences",
    "cookies.consentTitle": "We use cookies",
    "cookies.consentDescription": "We use cookies to improve your browsing experience, show personalized content and analyze our traffic.",
    "cookies.learnMore": "Learn more",
    "cookies.acceptAll": "Accept all",
    "cookies.rejectAll": "Reject",
    "cookies.customize": "Customize",
    "cookies.savePreferences": "Save preferences",
    "cookies.necessary": "Necessary cookies",
    "cookies.necessaryDesc": "Essential for the website to function properly.",
    "cookies.analytics": "Analytics cookies",
    "cookies.analyticsDesc": "Help us understand how you use the site.",
    "cookies.marketing": "Marketing cookies",
    "cookies.marketingDesc": "Used to show you relevant ads.",
    "cookies.required": "Required",
    "error.generic": "An error has occurred",
    "error.notFound": "Page not found",
    "error.goHome": "Go to home",
    "error.tryAgain": "Try again"
  },
  fr: {
    "common.loading": "Chargement...",
    "common.error": "Erreur",
    "common.close": "Fermer",
    "common.back": "Retour",
    "common.next": "Suivant",
    "common.restart": "Red√©marrer",
    "common.share": "Partager",
    "common.download": "T√©l√©charger",
    "common.search": "Rechercher",
    "common.filter": "Filtrer",
    "common.all": "Tous",
    "common.results": "r√©sultats",
    "common.viewDetails": "Voir les d√©tails",
    "common.viewList": "Vue liste",
    "common.viewMap": "Vue carte",
    "nav.home": "Accueil",
    "nav.tours360": "Tours 360¬∞",
    "nav.routes": "Itin√©raires Immersifs",
    "nav.map": "Carte",
    "nav.vrExperiences": "Exp√©riences VR",
    "nav.arExperiences": "Exp√©riences AR",
    "nav.help": "Aide",
    "header.asturiasInmersivo": "Asturies Immersif",
    "header.skipToContent": "Aller au contenu principal",
    "onboarding.discoverFrom": "D√©couvrir depuis chez soi",
    "onboarding.discoverFromDesc": "Explorez les Asturies virtuellement",
    "onboarding.alreadyHere": "Je suis d√©j√† aux Asturies",
    "onboarding.alreadyHereDesc": "Contenu bas√© sur votre position",
    "onboarding.selectMode": "Comment voulez-vous explorer ?",
    "onboarding.selectExperience": "Choisissez votre exp√©rience",
    "onboarding.tours360": "Visites Virtuelles 360¬∞",
    "onboarding.tours360Desc": "11 mus√©es et √©quipements",
    "onboarding.immersiveRoutes": "Itin√©raires Immersifs",
    "onboarding.immersiveRoutesDesc": "29 itin√©raires AR/360¬∞",
    "routes.title": "Itin√©raires Immersifs",
    "routes.search": "Rechercher des itin√©raires...",
    "routes.fitBounds": "Ajuster la vue",
    "routes.enterRoute": "Entrer dans l'itin√©raire",
    "routes.exitRoute": "Quitter l'itin√©raire",
    "routes.duration": "Dur√©e",
    "routes.difficulty": "Difficult√©",
    "routes.points": "points",
    "routes.distance": "Distance",
    "routes.circular": "Itin√©raire circulaire",
    "routes.linear": "Itin√©raire lin√©aire",
    "routes.tour360Available": "Tour 360¬∞ disponible",
    "routes.noPoints": "Les points de cet itin√©raire sont en d√©veloppement",
    "routes.progress": "Progression",
    "routes.exploring": "Exploration",
    "routes.howToGet": "Comment y aller",
    "difficulty.easy": "Facile",
    "difficulty.medium": "Moyenne",
    "difficulty.hard": "Difficile",
    "poi.arExperience": "Exp√©rience de R√©alit√© Augment√©e",
    "poi.launchAR": "Lancer l'exp√©rience AR",
    "poi.scanQR": "Scannez avec votre t√©l√©phone",
    "poi.scanQRDesc": "Pointez la cam√©ra de votre t√©l√©phone vers le code QR pour ouvrir l'exp√©rience de R√©alit√© Augment√©e",
    "poi.arInstructions": "Instructions AR",
    "poi.location": "Emplacement",
    "poi.open360": "Ouvrir le tour 360¬∞",
    "poi.playVideo": "Lire la vid√©o",
    "poi.downloadPDF": "T√©l√©charger le PDF",
    "poi.listenAudio": "√âcouter l'audioguide",
    "poi.tryARDesktop": "Essayer sur cet appareil",
    "poi.arRecommendation": "Recommand√© : utilisez votre t√©l√©phone pour la meilleure exp√©rience AR",
    "poi.gallery": "Galerie d'images",
    "poi.practicalInfo": "Informations pratiques",
    "poi.schedule": "Horaires",
    "poi.prices": "Prix",
    "poi.contact": "Contact",
    "poi.contentAvailable": "Contenu disponible",
    "tours360.title": "Visites Virtuelles 360¬∞",
    "tours360.subtitle": "Explorez les Asturies de n'importe o√π",
    "tours360.startTour": "D√©marrer la visite",
    "tours360.scenes": "sc√®nes",
    "tours360.allCategories": "Toutes les cat√©gories",
    "vr.title": "Exp√©riences VR",
    "vr.subtitle": "Plongez dans les Asturies avec la r√©alit√© virtuelle",
    "vr.downloadAPK": "T√©l√©charger APK",
    "vr.duration": "Dur√©e estim√©e",
    "vr.difficulty": "Difficult√©",
    "vr.instructions": "Instructions d'utilisation",
    "vr.requirements": "Exigences",
    "vr.compatible": "Compatible avec",
    "map.yourLocation": "Votre position",
    "map.locationActive": "Position active",
    "map.enableLocation": "Activer la position",
    "map.clusterPoints": "points d'int√©r√™t",
    "navigation.getDirections": "Itin√©raire",
    "navigation.walking": "√Ä pied",
    "navigation.driving": "En voiture",
    "navigation.chooseMode": "Choisissez comment y aller",
    "navigation.fromYourLocation": "Depuis votre position",
    "navigation.nearestPoint": "Point le plus proche",
    "navigation.startHere": "Commencer ici",
    "navigation.nearYou": "Pr√®s de vous",
    "navigation.withinRadius": "dans un rayon de",
    "navigation.noLocation": "Activez la localisation pour voir ce qui est proche",
    "navigation.nothingNearby": "Aucun point dans un rayon de 50km",
    "navigation.calculatingRoute": "Calcul de l'itin√©raire...",
    "navigation.error": "Erreur",
    "navigation.retry": "R√©essayer",
    "navigation.arrived": "Vous √™tes arriv√© !",
    "navigation.arrivedDesc": "Vous √™tes arriv√© √† destination",
    "navigation.recalculate": "Recalculer",
    "navigation.remaining": "restant",
    "navigation.stepOf": "√âtape",
    "navigation.of": "sur",
    "navigation.allSteps": "Toutes les indications",
    "navigation.stopNavigation": "Arr√™ter la navigation",
    "navigation.selectMode": "S√©lectionnez le mode de transport",
    "navigation.start": "D√©marrer",
    "navigation.offlineMode": "Mode hors ligne",
    "navigation.progress": "Progression",
    "navigation.inApp": "Naviguer dans l'app",
    "navigation.externalMaps": "Ouvrir dans Maps",
    "navigation.stepByStep": "Pas √† pas avec carte en temps r√©el",
    "navigation.cachedRoutes": "itin√©raires sauvegard√©s disponibles",
    "network.offline": "Pas de connexion Internet",
    "network.offlineDescription": "Certaines fonctionnalit√©s peuvent ne pas √™tre disponibles",
    "network.offlineWithCache": "Mode hors ligne - Donn√©es disponibles",
    "network.backOnline": "Connexion restaur√©e !",
    "network.slowConnection": "Connexion lente d√©tect√©e",
    "network.slowConnectionDescription": "Le contenu peut prendre plus de temps √† charger",
    "share.title": "Partager",
    "share.copyLink": "Copier le lien",
    "share.linkCopied": "Lien copi√©",
    "share.whatsapp": "Partager sur WhatsApp",
    "share.facebook": "Partager sur Facebook",
    "share.twitter": "Partager sur Twitter",
    "share.email": "Envoyer par email",
    "settings.language": "Langue",
    "settings.theme": "Th√®me",
    "settings.lightTheme": "Clair",
    "settings.darkTheme": "Sombre",
    "settings.systemTheme": "Syst√®me",
    "footer.privacy": "Politique de confidentialit√©",
    "footer.cookies": "Politique de cookies",
    "footer.accessibility": "D√©claration d'accessibilit√©",
    "footer.contact": "Contact",
    "footer.legal": "Mentions l√©gales",
    "footer.fundedBy": "Financ√© par l'Union Europ√©enne ‚Äì NextGenerationEU",
    "footer.copyright": "¬© 2024 Principaut√© des Asturies. Tous droits r√©serv√©s.",
    "footer.developedBy": "D√©velopp√© par",
    "footer.arExperiences": "Exp√©riences AR",
    "cookies.consentTitle": "Nous utilisons des cookies",
    "cookies.consentDescription": "Nous utilisons des cookies pour am√©liorer votre exp√©rience de navigation, afficher du contenu personnalis√© et analyser notre trafic.",
    "cookies.learnMore": "En savoir plus",
    "cookies.acceptAll": "Tout accepter",
    "cookies.rejectAll": "Refuser",
    "cookies.customize": "Personnaliser",
    "cookies.savePreferences": "Enregistrer les pr√©f√©rences",
    "cookies.necessary": "Cookies n√©cessaires",
    "cookies.necessaryDesc": "Essentiels au bon fonctionnement du site.",
    "cookies.analytics": "Cookies analytiques",
    "cookies.analyticsDesc": "Nous aident √† comprendre comment vous utilisez le site.",
    "cookies.marketing": "Cookies marketing",
    "cookies.marketingDesc": "Utilis√©s pour vous montrer des publicit√©s pertinentes.",
    "cookies.required": "Requis",
    "error.generic": "Une erreur s'est produite",
    "error.notFound": "Page non trouv√©e",
    "error.goHome": "Aller √† l'accueil",
    "error.tryAgain": "R√©essayer"
  }
};

// Execute the sync
(async function executeSync() {
  console.log('üöÄ Adding missing translations to Directus...');
  
  try {
    // Login
    const loginResponse = await fetch(`${DIRECTUS_URL}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ email: ADMIN_EMAIL, password: ADMIN_PASSWORD })
    });
    
    if (!loginResponse.ok) {
      throw new Error('Login failed');
    }
    
    const loginData = await loginResponse.json();
    const authToken = loginData.data.access_token;
    console.log('‚úÖ Logged in to Directus');
    
    // Get existing keys
    const existingResponse = await fetch(`${DIRECTUS_URL}/items/ui_translations?fields=key&filter[status][_eq]=published&limit=-1`, {
      headers: { 'Authorization': `Bearer ${authToken}` }
    });
    
    const existingData = await existingResponse.json();
    const existingKeys = new Set(existingData.data.map(item => item.key));
    console.log(`üìä Existing keys in Directus: ${existingKeys.size}`);
    
    // Find keys to add
    const allKeys = new Set(Object.keys(allTranslations.es || {}));
    const keysToAdd = Array.from(allKeys).filter(key => !existingKeys.has(key));
    
    console.log(`üìù Keys to add: ${keysToAdd.length}`);
    
    if (keysToAdd.length === 0) {
      console.log('‚úÖ All translations already exist in Directus!');
      return;
    }
    
    // Process keys
    let totalAdded = 0;
    let totalErrors = 0;
    
    for (const key of keysToAdd) {
      try {
        // Create parent record
        const parentResponse = await fetch(`${DIRECTUS_URL}/items/ui_translations`, {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${authToken}`,
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            key: key,
            status: 'published'
          })
        });
        
        if (!parentResponse.ok) {
          throw new Error(`Failed to create parent: ${parentResponse.status}`);
        }
        
        const parentData = await parentResponse.json();
        const parentId = parentData.data.id;
        
        // Add translations for all languages
        const languages = ['es', 'en', 'fr'];
        let addedForThisKey = 0;
        
        for (const lang of languages) {
          const value = allTranslations[lang]?.[key];
          if (value) {
            const transResponse = await fetch(`${DIRECTUS_URL}/items/ui_translations_translations`, {
              method: 'POST',
              headers: {
                'Authorization': `Bearer ${authToken}`,
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                ui_translations_id: parentId,
                languages_code: lang,
                name: value
              })
            });
            
            if (!transResponse.ok) {
              console.error(`‚ùå Failed to add ${lang} translation for ${key}:`, await transResponse.text());
            } else {
              addedForThisKey++;
            }
          }
        }
        
        totalAdded += addedForThisKey;
        console.log(`‚úÖ Added: ${key} (${addedForThisKey} languages)`);
        
      } catch (error) {
        console.error(`‚ùå Error adding ${key}:`, error.message);
        totalErrors++;
      }
    }
    
    console.log(`\nüéâ Sync completed!`);
    console.log(`üìä Total translations added: ${totalAdded}`);
    console.log(`üìä Errors: ${totalErrors}`);
    console.log(`üìä Keys processed: ${keysToAdd.length}`);
    
    console.log(`\nüîÑ Next steps:`);
    console.log(`1. Clear localStorage: localStorage.clear()`);
    console.log(`2. Refresh page: location.reload()`);
    console.log(`3. Check [i18n] logs for loaded count`);
    
  } catch (error) {
    console.error('‚ùå Sync failed:', error);
  }
})();
